# traffic
本设计采用BP神经网络、小波神经网络和长短时记忆神经网络三个模型来对给定某路段的历史交通流数据进行训练和预测分析。其中小波神经网络是一种融合模型，是将BP神经网络的激励函数替换成小波基函数而非通用的激励函数。小波神经网络在本设计数据集上的效果优于BP神经网络。长短时记忆网络是简单循环神经网络的改进型，相比于传统神经网络，循环神经网络更适合于分析序列数据，而长短时记忆神经网络具有更强的记忆和学习能力。本设计对不同参数下LSTM模型的效果进行分析并和小波神经网络做对比，并利用LSTM模型进行多步预测。最后采用Django框架做了web服务，将模型放于后台，通过浏览器查看预测结果。


对交通流数据的预处理方法其中包含数据异常值检测、异常值处理、固定化、归一化和数据监督化。然后分别介绍了BP神经网络、小波神经网络和LSTM网络，并用这些网络在不同参数下进行训练和预测，然后分析预测结果。还通过LSTM网络实现交通流数据的多步预测。最后通过Django框架实现web可视化系统，实现定位、历史数据查看和预测数据的查看。Django采用MVT设计模式，其中V是view，主要负责接受和处理从浏览器传输过来的请求，如GET、POST参数等。T为template，主要存放由html语言编写的页面，接受来自view 文件中传输过来的参数，由加载和渲染两大部分组成。M为model，负责创建模型类，有数据库进行交互，本系统使用的是的MySQL 数据库，也用到Navicat for MySQL软件来导入大量流量数据到MySQL。

本系统开发所使用系统是ubuntu16.04，开发的虚拟环境使用python3.5建立，开发软件使用pycharm，主要用到的python包有：Django、keras、numpy、pandas、pymysql、sklearn、tensorflow等。

![Image text](https://github.com/captainhn/traffic/blob/master/imgfiles/1.png?raw=true)

在你将环境配置好、数据准备好后：
1.终端输入：workon predict
2.进入到项目的第一级目录执行操作：python manage.py runserver (端口默认为8000，可以自行修改空闲端口)
3.加载后会提示进入系统中，地址大致为：http://127.0.0.1:8000
4.进入地址后在地址栏再添加 /mian ,进入系统主页面：http://127.0.0.1:8000/main/
5.若想关闭系统，在终端按 ctrl+z, 按了ctrl+c并不会杀死进程，还是会占用之前的端口。

Notes:(1) 将数据导入到MySQL数据库中可使用navicat软件，直接将处理好的数据通过excel表格导入。想获取原始数据可与我联系。
      (2) django模板中调用过百度API所以得将链接中的密钥替换成自己申请的API密钥。可从百度地图开发者获取。
     

网络中的参数不是最优的，大佬们可以调参试一试。感谢jason博士的技术支持！！！
